```python
class Solution:
    def findAnagrams(self, s: str, p: str) -> List[int]:
        cnt = Counter(p)
        left = 0
        ans = []

        for right, c in enumerate(s):
            cnt[c] -= 1
            while cnt[c] < 0:
                cnt[s[left]] += 1
                left += 1
            if right - left + 1 == len(p):
                ans.append(left)
        return ans
```

使用 Counter(p) 初始化 cnt，表示凑齐 p 的异位词**还需要**哪些字符
若 cnt[c] >= 0，则还缺这么多字符。等待下一轮右扩一格。扩张时减掉负担（-= 1）
若 cnt[c] < 0，则这个字符太多了。收缩 left 直到合法
若 cnt[c] == 0，说明 c 正好满足条件。但这里只是 c 正好满足条件。想要更新 ans，还需要满足“每个字符都不超用”。因此，只有在 len(滑动窗口) == len(p) 下满足每个字符都不超用的条件。因此只在这个条件下更新答案

#哈希表 #字符串 #滑动窗口